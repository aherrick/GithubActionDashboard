<!DOCTYPE html>
<html lang="en" data-bs-theme="light">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GitHub Action Dashboard</title>
    <base href="/" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css" />
    <link rel="icon" type="image/png" href="favicon.png" />
</head>

<body>
    <div class="position-fixed top-0 end-0 p-2" style="z-index: 1050;">
        <button class="btn btn-sm btn-outline-secondary" onclick="toggleTheme()" title="Toggle dark/light mode">
            <i id="theme-icon" class="bi bi-moon-fill"></i>
        </button>
    </div>
    <a class="github-fork-ribbon right-top" href="https://github.com/aherrick/GithubActionDashboard" data-ribbon="Fork me on GitHub" title="Fork me on GitHub" target="_blank">Fork me on GitHub</a>
    <div id="app"></div>

    <footer class="text-center py-4">
        <small>
            Made with <i class="bi bi-heart-fill text-danger"></i> by <a href="https://twitter.com/andrew_herrick" target="_blank" class="text-decoration-none">@andrew_herrick</a>
        </small>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="_framework/blazor.webassembly.js"></script>
    <script>
        function getSystemTheme() {
            return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
        }
        
        function applyTheme(theme) {
            document.documentElement.setAttribute('data-bs-theme', theme);
            document.getElementById('theme-icon').className = theme === 'dark' ? 'bi bi-sun-fill' : 'bi bi-moon-fill';
        }
        
        function toggleTheme() {
            const current = document.documentElement.getAttribute('data-bs-theme');
            const newTheme = current === 'dark' ? 'light' : 'dark';
            localStorage.setItem('theme', newTheme);
            applyTheme(newTheme);
        }
        
        // Load saved theme or fall back to system preference
        (function() {
            const saved = localStorage.getItem('theme');
            applyTheme(saved || getSystemTheme());
        })();
    </script>
</body>
</html>